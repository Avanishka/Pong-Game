<html>
 <head>
  <title>Pong Game</title>
                <script>
                       
var canvas;
var ctx;

var paddleY = 200;
var paddleheight=100;

var ballX = 200;
var ballY = 200;
var ballspeedX = -5;
var ballspeedY = -3;

var enemyY = 200;
var enemyheight = 100;
var enemySpeedY = 0;

const framesPerSecond=30;
var playerScore=0;
var enemyScore=0;
const max_Score=3;
var game;

window.onload=function() {
    canvas=document.getElementById("canva");
    ctx=canvas.getContext("2d");
    game = setInterval(function() {
        window.addEventListener("mousemove", playerMove, true);
        
        draw();
        moveEnemy();
        moveBall();
        score();
        winGame();
    },1000/framesPerSecond);
    
};



function winWindow() {
    ctx.fillStyle="white";
    ctx.fillRect(100,100, canvas.width/2, canvas.height,2);
}
function winGame() {
    if(playerScore == max_Score ||
    enemyScore == max_Score) {
        clearInterval(game);
        ctx.fillStyle = "white";
        ctx.fillRect(100, 100, canvas.width/2, canvas.height/2);
        
        if(playerScore == max_Score) {
            ctx.fillStyle = "black";
            ctx.font = "20px Arial";
            ctx.fillText("You Win" , 150, 150);
        }
        if(enemyScore == max_Score) {
            ctx.fillStyle = "black";
            ctx.font = "20px Arial";
            ctx.fillText("You Lose", 150, 150);
        }
    }
}
function draw() {
    ctx.fillStyle = "black";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    
    ctx.fillStyle = "white";
    ctx.fillRect(0, paddleY, 10, paddleheight);
    
    ctx.beginPath();
    ctx.fillStyle = "white";
    ctx.arc(ballX, ballY, 10, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.fill();
    
    ctx.fillStyle = "white";
    ctx.fillRect(canvas.width-10, enemyY, 10, enemyheight);
}
function playerMove(evt) {
    evt.preventDefault();
    paddleY = evt.clientY-paddleheight/2;
}
function moveEnemy() {
    var enemyYCenter = enemyY + enemyheight/2;
    enemyY = enemyY + enemySpeedY;
    if(enemyYCenter > ballY+35) {
        enemySpeedY = -2.8;
    }
    if(enemyYCenter < ballY-35) {
        enemySpeedY = 2.8;
    }
}
function moveBall() {
    ballX = ballX + ballspeedX;
    ballY = ballY + ballspeedY;
    
    if(ballY > canvas.height) {
        ballspeedY = -ballspeedY;
    }
    if(ballY < 0) {
        ballspeedY = -ballspeedY;
    }
    if(ballX > canvas.width) {
        if(ballY > enemyY &&
    ballY < enemyY + enemyheight) {
        ballspeedX = -ballspeedX;
        }
        else {
            ballY = 200;
            ballX = 200;
            playerScore = playerScore + 1;
            ballspeedX = -ballspeedX;
        }
    }
    if(ballX < 0) {
        if(ballY > paddleY &&
        ballY < paddleY + paddleheight) {
            ballspeedX = -ballspeedX;
        }
        else {
            ballX = 200;
            ballY = 200;
            enemyScore = enemyScore + 1;
        }
    }
}
function score() {
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Your Score: " + playerScore, 0, 20);
    
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Enemy Score: " + enemyScore, canvas.width-200, 20);
    
}


                </script>
 </head>
 <body>
  <canvas id="canva" width="400" height="400"></canvas>
 </body>
</html>